{% load article_filters %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{% block title %}Website{% endblock %}</title>
</head>
<body>
	<!-- Navigation Menu -->
	<nav style="border: 1px solid black; padding: 10px; margin-bottom: 20px;">
		<h2>Menu</h2>
		<ul style="list-style: none; padding: 0;">
			<!-- Home Link -->
			<li style="display: inline; margin-right: 15px;">
				<a href="{% url 'Website:home' %}">Home</a>
			</li>
			
			<!-- Last Articles Link -->
			<li style="display: inline; margin-right: 15px;">
				<a href="{% url 'Website:articles' %}">Last Articles</a>
			</li>
			
			<!-- If not authenticated -->
			{% if not user.is_authenticated %}
				<!-- Register Link -->
				<li style="display: inline; margin-right: 15px;">
					<a href="{% url 'Website:register' %}">Register</a>
				</li>
				
				<!-- Login Form in Menu -->
				<li style="display: inline; margin-right: 15px;">
					<div style="border: 1px solid #ccc; padding: 10px; display: inline-block;">
						<h4>Login</h4>
						{% if login_form.errors %}
							<div style="color: red;">
								<p>Invalid username or password. Please try again.</p>
							</div>
						{% endif %}
						<form method="post" action="{% url 'Website:login' %}" style="display: inline;">
							{% csrf_token %}
							<div>
								<label for="{{ login_form.username.id_for_label }}">Username:</label>
								{{ login_form.username }}
							</div>
							<div>
								<label for="{{ login_form.password.id_for_label }}">Password:</label>
								{{ login_form.password }}
							</div>
							<button type="submit">Login</button>
						</form>
					</div>
				</li>
			
			<!-- If authenticated -->
			{% else %}
				<!-- Favourites Link -->
				<li style="display: inline; margin-right: 15px;">
					<a href="{% url 'Website:favourites' %}">Favourites</a>
				</li>
				
				<!-- Publications Link -->
				<li style="display: inline; margin-right: 15px;">
					<a href="{% url 'Website:publications' %}">Publications</a>
				</li>
				
				<!-- Logged as User Text -->
				<li style="display: inline; margin-right: 15px;">
					Logged as <strong>{{ user.username }}</strong>
				</li>
				
				<!-- Logout Form -->
				<li style="display: inline; margin-right: 15px;">
					<form method="post" action="{% url 'Website:logout' %}" style="display: inline;">
						{% csrf_token %}
						<button type="submit">Logout</button>
					</form>
				</li>
			{% endif %}
		</ul>
	</nav>
	
	<!-- Main Content -->
	<div class="content">
		{% block content %}{% endblock %}
	</div>
</body>
</html>
