{% extends 'Website/base.html' %}
{% load article_filters %}
{% load django_bootstrap5 %}
{% load i18n %}

{% block title %}Publications - Website{% endblock %}

{% block content %}
	<div class="container">
		<h1 class="mb-4">{% trans "Publications" %} <span class="text-muted fs-5">{% trans "Your articles" %}</span></h1>
		
		<div class="mb-3">
			<a href="{% url 'Website:publish' %}" class="btn btn-primary">{% trans "+ Publish New Article" %}</a>
		</div>
		
		<div class="table-responsive">
			<table class="table table-striped table-hover">
				<thead class="table-dark">
					<tr>
						<th>{% trans "Title" %}</th>
						<th>{% trans "Synopsis" %}</th>
						<th>{% trans "Created" %}</th>
						<th>{% trans "Published" %}</th>
						<th>{% trans "Action" %}</th>
					</tr>
				</thead>
				<tbody>
					{% for article in articles %}
					<tr>
						<td>{{ article.title }}</td>
						<td>{{ article.synopsis|truncate_synopsis:20 }}</td>
						<td>{{ article.created|date:"M. d, Y, P" }}</td>
						<td>{{ article.created|time_since_publication }}</td>
						<td>
							<a href="{% url 'Website:detail' article.pk %}" class="btn btn-sm btn-info text-white">{% trans "Read" %}</a>
						</td>
					</tr>
					{% empty %}
					<tr>
						<td colspan="5" class="text-center">{% trans "No publications available." %}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}
